<!-- build time:Wed May 25 2022 03:18:38 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="余弦の博客" href="https://ysx.cosine.ren/rss.xml"><link rel="alternate" type="application/atom+xml" title="余弦の博客" href="https://ysx.cosine.ren/atom.xml"><link rel="alternate" type="application/json" title="余弦の博客" href="https://ysx.cosine.ren/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="前端,动画,CSS"><link rel="canonical" href="https://ysx.cosine.ren/note/front-end/bytedance-note/animation-implement/"><title>青训营 |「前端动画实现」 - 青训营笔记 - 笔记 | cosine = 余弦の博客 = WA 的一声就哭了</title><meta name="generator" content="Hexo 6.1.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline"><a href="/note/front-end/bytedance-note/animation-implement" class="link external" itemprop="url">青训营 |「前端动画实现」<i class="ic i-link-alt"></i></a></h1><div class="meta"><span class="item" title="创建时间：2022-01-21 14:30:17"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-01-21T14:30:17+08:00">2022-01-21</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>17k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>15 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">cosine</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><img src="/img/header_img/lml_bg.jpg"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/note/" itemprop="item" rel="index" title="分类于 笔记"><span itemprop="name">笔记</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/note/bytedance-note/" itemprop="item" rel="index" title="分类于 青训营笔记"><span itemprop="name">青训营笔记</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="cn"><link itemprop="mainEntityOfPage" href="https://ysx.cosine.ren/note/front-end/bytedance-note/animation-implement/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/img/avatar.jpg"><meta itemprop="name" content="cos"><meta itemprop="description" content="WA 的一声就哭了, 愿岁并谢，与友长兮"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="余弦の博客"></span><div class="body md" itemprop="articleBody"><h2 id="动画的基本原理"><a class="anchor" href="#动画的基本原理">#</a> 动画的基本原理</h2><h3 id="动画是什么"><a class="anchor" href="#动画是什么">#</a> 动画是什么</h3><blockquote><p>动画是通过快速连续排列彼此差异极小的连续图像来制造运动错觉和变化错觉的过程。</p><p>—— 维基百科</p></blockquote><ul><li>快速</li><li>连续排列</li><li>彼此差异极小</li><li>制造 <strong>“错觉”</strong> 的过程</li></ul><h3 id="动画发展史"><a class="anchor" href="#动画发展史">#</a> 动画发展史</h3><p>如今的前端动画技术已经普及</p><ol><li><p>常见的前端动画技术</p><ul><li>Sprite 动画、CSS 动画、JS 动画、SVG 动画和 WebGL 动画</li></ul></li><li><p>按应用分类</p><ul><li>UI 动画、基于 Web 的游戏动画和动画数据可视化</li></ul></li></ol><p>GIF、Flash 的出现，一度成为主流，也是在 00 年的前后，苹果公司认为 Flash 会导致 CPU 的负载，耗电加快，宣布全面放弃 Flash，所有的苹果设备电池寿命都显著提高。而如今的 web 动画主要由 CSS、JS 动画为主。</p><h3 id="计算机动画"><a class="anchor" href="#计算机动画">#</a> 计算机动画</h3><p><strong>计算机图形学</strong></p><p>计算机视觉的基础，涵盖点、线、面、体、场的数学构造方法。</p><ul><li>几何和图形数据的输入、存储和压缩。</li><li>描述纹理、曲线、光影等算法。</li><li>物体图形的数据输出（图形接口、动画技术），硬件和图形的交互技术。</li><li>图形开发软件的相关技术标准。</li></ul><p><strong>计算机动画</strong> 是计算机图形学的分支，主要包含 2D、3D 动画。无论动画多么简单，始终需要定义两个基本状态，即<strong>开始状态</strong>和<strong>结束状态</strong>。没有它们，我们将无法定义<strong>插值状态</strong>，从而填补两者之间的空白。</p><p><img data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45af169412774ce685832db37df048dd~tplv-k3u1fbpfcp-watermark.image?" alt="1.gif"></p><p>快速√ 连续排列 × 彼此差异极小 × 制造 “错觉”×</p><p>可以看到，上面这张动画只有快速，并没有制造错觉，这就不得不提到帧率这个概念了～～（打游戏的这个概念应该都熟）~~</p><ul><li><p>帧：连续变换的多张画面，其中的每一幅画面都是一帧。</p></li><li><p>帧率：用于度量一定时间段内的帧数，通常的测量单位是<strong> FPS（frame per second）</strong>。</p></li><li><p>帧率与人眼：一般<strong>每秒 10-12 帧</strong>人会认为画面是<strong>连贯</strong>的，这个现象称为<strong>视觉暂留</strong>。对于一些电脑动画和游戏来说，低于 30 FPS 会感受到明显卡顿，目前主流的屏幕、显卡输出为 60FPS，效果会明显更流畅。</p></li></ul><p>那么接下来，填补起始点和结束点之间的空白，尝试让动画连贯。</p><p><img data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6918c4fc6f814e83947dd81d18fb16e4~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>空白的补全方式有以下两种</p><ul><li>补间动画<ul><li>传统动画中，主画师绘制关键帧，交给清稿部门 ，清稿部门的补间动画师补充关键帧进行交付</li><li>(类比到这里，前端动画的补间动画师由浏览器来担任，如<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@keyframes"> <code>@keyframes</code> </a>，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition"> <code>transition</code> </a>)</li></ul></li><li>逐帧动画（Frame By Frame）<ul><li>从词语来说意味着全片每一帧逐帧都是<strong>纯手绘</strong>。(如 css 的 steps 实现精灵动画)</li></ul></li></ul><h2 id="前端动画分类"><a class="anchor" href="#前端动画分类">#</a> 前端动画分类</h2><h3 id="css动画"><a class="anchor" href="#css动画">#</a> css 动画</h3><p>CSS 层叠样式表 (Cascading Style Sheets），本身是一种样式表语言，用来描述 HTML 或 XML（包括如 SVG、MathML、XHTML 之类的 XML 分支语言），而 CSS 中的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation"><code>animation</code> </a>属性是 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-name"><code>animation-name</code> </a>，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-duration"> <code>animation-duration</code> </a>, <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-timing-function"><code>animation-timing-function</code> </a>，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-delay"> <code>animation-delay</code> </a>，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-iteration-count"> <code>animation-iteration-count</code> </a>，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-direction"> <code>animation-direction</code> </a>，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-fill-mode"> <code>animation-fill-mode</code> </a>和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-play-state"><code>animation-play-state</code> </a>属性的一个简写属性形式。</p><h4 id="animation-name"><a class="anchor" href="#animation-name">#</a> animation-name</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-name"><code>animation-name</code> </a>属性指定应用的一系列动画，每个名称代表一个由<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@keyframes"> <code>@keyframes</code> </a>定义的动画序列，其值如下</p><ul><li><code>none</code> （初始值）特殊关键字，表示无关键帧。可以不改变其他标识符的顺序而使动画失效，或者使层叠的动画样式失效。</li><li><code>IDENT</code> 标识动画的字符串，由大小写敏感的字母 a-z、数字 0-9、下划线 (_) 和 / 或横线 (-) 组成。第一个非横线字符必须是字母，数字不能在字母前面，不允许两个横线出现在开始位置。</li></ul><p>多个动画定义使用逗号分隔开即可</p><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* Single animation */</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token property">animation-name</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token property">animation-name</span><span class="token punctuation">:</span> test_05<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token property">animation-name</span><span class="token punctuation">:</span> -specific<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token property">animation-name</span><span class="token punctuation">:</span> sliding-vertically<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">/* Multiple animations */</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token property">animation-name</span><span class="token punctuation">:</span> test1<span class="token punctuation">,</span> animation4<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token property">animation-name</span><span class="token punctuation">:</span> none<span class="token punctuation">,</span> -moz-specific<span class="token punctuation">,</span> sliding<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">/* Global values */</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token property">animation-name</span><span class="token punctuation">:</span> initial</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token property">animation-name</span><span class="token punctuation">:</span> inherit</pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token property">animation-name</span><span class="token punctuation">:</span> unset</pre></td></tr></table></figure><h4 id="animation-duration"><a class="anchor" href="#animation-duration">#</a> animation-duration</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-duration"><code>animation-duration</code> </a>属性指定一个动画周期的时长。默认值为 0s，表示无动画。</p><p>它的值为一个动画周期的时长，单位为秒 (s) 或者毫秒 (ms)，无单位值无效。也可以指定多个值，他的多个值与 animation-name 一一对应</p><blockquote><p>** 注意：** 负值无效，浏览器会忽略该声明，但是一些早期的带前缀的声明会将负值当作 0s。</p></blockquote><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* Single animation */</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token property">animation-duration</span><span class="token punctuation">:</span> 6s</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token property">animation-duration</span><span class="token punctuation">:</span> 120ms</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">/* Multiple animations */</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token property">animation-duration</span><span class="token punctuation">:</span> 1s<span class="token punctuation">,</span> 15s</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token property">animation-duration</span><span class="token punctuation">:</span> 10s<span class="token punctuation">,</span> 30s<span class="token punctuation">,</span> 230ms</pre></td></tr></table></figure><h4 id="animation-timing-function"><a class="anchor" href="#animation-timing-function">#</a> animation-timing-function</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-timing-function"><code>animation-timing-function</code> </a>属性定义 CSS 动画在每一动画周期中执行的节奏。可能值为一或多个，它的多个值也是与 animation-name 一一对应。本身 CSS 定义了一些缓动函数，我们可以调用这些缓动函数来达到缓入缓出的效果。</p><blockquote><p>对于关键帧动画来说，timing function 作用于一个关键帧周期而非整个动画周期，即从关键帧开始开始，到关键帧结束结束。</p><p>定义于一个关键帧区块的缓动函数 (animation timing function) 应用到该关键帧；另外，若该关键帧没有定义缓动函数，则使用定义于整个动画的缓动函数。</p></blockquote><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* Keyword values */</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> ease<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> ease-in<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> ease-out<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> ease-in-out<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> linear<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> step-start<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> step-end<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">/* Function values */</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>0.1<span class="token punctuation">,</span> 0.7<span class="token punctuation">,</span> 1.0<span class="token punctuation">,</span> 0.1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> <span class="token function">steps</span><span class="token punctuation">(</span>4<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> <span class="token function">frames</span><span class="token punctuation">(</span>10<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">/* Multiple animations */</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> ease<span class="token punctuation">,</span> step-start<span class="token punctuation">,</span> <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>0.1<span class="token punctuation">,</span> 0.7<span class="token punctuation">,</span> 1.0<span class="token punctuation">,</span> 0.1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">/* Global values */</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token property">animation-timing-function</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></pre></td></tr></table></figure><h4 id="animation-delay"><a class="anchor" href="#animation-delay">#</a> animation-delay</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-delay"><code>animation-delay</code> </a>定义动画于何时开始，即从动画应用在元素上到动画开始的这段时间的长度。（就是延迟多久开始）</p><p><code>0s</code> 是该属性的默认值，代表动画在应用到元素上后立即开始执行。否则，该属性的值代表动画样式应用到元素上后到开始执行前的时间长度；</p><p>** 定义一个负值会让动画立即开始。但是动画会从它的动画序列中某位置开始。** 例如，如果设定值为 - 1s，动画会从它的动画序列的第 1 秒位置处立即开始。</p><p>如果为动画延迟指定了一个负值，但起始值是隐藏的，则从动画应用于元素的那一刻起就获取起始值。</p><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token property">animation-delay</span><span class="token punctuation">:</span> 3s<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token property">animation-delay</span><span class="token punctuation">:</span> 2s<span class="token punctuation">,</span> 4ms<span class="token punctuation">;</span></pre></td></tr></table></figure><h4 id="animation-iteration-count"><a class="anchor" href="#animation-iteration-count">#</a> animation-iteration-count</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-iteration-count"><code>animation-iteration-count</code> </a>定义动画在结束前<strong>运行的次数</strong> 可以是 1 次也可以是无限循环.</p><ul><li><p><code>infinite</code></p><p>无限循环播放动画</p></li><li><p><code>&lt;number&gt;</code></p><p>动画播放的次数；默认值为 <code>1</code> 。可以用<strong>小数定义循环</strong>，来<strong>播放动画周期的一部分</strong>：例如， <code>0.5</code> 将播放到动画周期的一半。不可为负值。</p></li></ul><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* 值为关键字 */</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token property">animation-iteration-count</span><span class="token punctuation">:</span> infinite<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">/* 值为数字 */</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token property">animation-iteration-count</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token property">animation-iteration-count</span><span class="token punctuation">:</span> 2.4<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">/* 指定多个值 */</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token property">animation-iteration-count</span><span class="token punctuation">:</span> 2<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> infinite<span class="token punctuation">;</span></pre></td></tr></table></figure><p>它的多值跟 duration 不同，它是在每个动画开始和结束的时候切换自己的执行次数</p><h4 id="animation-direction"><a class="anchor" href="#animation-direction">#</a> animation-direction</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-direction"><code>animation-direction</code> </a>属性指示动画是否反向播放</p><ul><li><p><code>normal</code> (默认值)</p><p>每个循环内动画<strong>向前循环</strong>，换言之，每个动画循环结束，动画重置到起点重新开始，这是默认属性。</p></li><li><p><code>alternate</code></p><p>动画<strong>交替反向运行</strong>，反向运行时，动画<strong>按步后退</strong>，同时，<strong>带时间功能的函数也反向</strong>，比如， <code>ease-in</code> 在反向时成为 <code>ease-out</code> 。计数取决于开始时是奇数迭代还是偶数迭代</p></li><li><p><code>reverse</code></p><p><strong>反向运行动画</strong>，每周期结束动画由尾到头运行。</p></li><li><p><code>alternate-reverse</code></p><p><strong>反向交替</strong>， 反向开始交替</p><p>动画<strong>第一次运行时是反向的，然后下一次是正向，后面依次循环</strong>。决定奇数次或偶数次的计数从 1 开始。</p></li></ul><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token property">animation-direction</span><span class="token punctuation">:</span> normal</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token property">animation-direction</span><span class="token punctuation">:</span> reverse</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token property">animation-direction</span><span class="token punctuation">:</span> alternate</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token property">animation-direction</span><span class="token punctuation">:</span> alternate-reverse</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token property">animation-direction</span><span class="token punctuation">:</span> normal<span class="token punctuation">,</span> reverse</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token property">animation-direction</span><span class="token punctuation">:</span> alternate<span class="token punctuation">,</span> reverse<span class="token punctuation">,</span> normal</pre></td></tr></table></figure><h4 id="animation-fill-mode"><a class="anchor" href="#animation-fill-mode">#</a> animation-fill-mode</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-fill-mode"><code>animation-fill-mode</code> </a>属性设置 CSS 动画在执行之前和之后如何将样式应用于其目标。</p><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* Single animation */</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token property">animation-fill-mode</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token property">animation-fill-mode</span><span class="token punctuation">:</span> forwards<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token property">animation-fill-mode</span><span class="token punctuation">:</span> backwards<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token property">animation-fill-mode</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">/* Multiple animations */</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token property">animation-fill-mode</span><span class="token punctuation">:</span> none<span class="token punctuation">,</span> backwards<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token property">animation-fill-mode</span><span class="token punctuation">:</span> both<span class="token punctuation">,</span> forwards<span class="token punctuation">,</span> none<span class="token punctuation">;</span></pre></td></tr></table></figure><ul><li><p><code>none</code> (默认)</p><p>当动画未执行时，<strong>动画将不会将任何样式应用于目标</strong>，而是已经赋予给该元素的 CSS 规则来显示该元素。这是默认值。</p></li><li><p><code>forwards</code></p><p>目标将保留由执行期间<strong>遇到的最后一个<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0BrZXlmcmFtZXM=">关键帧</span>计算值</strong>。 最后一个关键帧取决于<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-direction"> <code>animation-direction</code> </a>和<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-iteration-count"> <code>animation-iteration-count</code> </a>的值（就是<strong>最后一个关键帧是什么样子后面就一直会是这个样子</strong>）</p></li><li><p><code>backwards</code></p><p>动画将在应用于目标时<strong>立即应用第一个关键帧中定义的值</strong>，<strong>并在<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-delay"> <code>animation-delay</code> </a>期间保留此值</strong>。（这个很重要，delay 几 s 进行的） 第一个关键帧取决于<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-direction"> <code>animation-direction</code> </a>的值： <code>animation-direction</code> first relevant keyframe <code>normal</code> or <code>alternate``0%</code> or <code>from``reverse</code> or <code>alternate-reverse``100%</code> or <code>to</code></p></li><li><p><code>both</code></p><p>动画将遵循 <code>forwards</code> 和 <code>backwards</code> 的规则，从而在两个方向上扩展动画属性。（就是上述二者兼有）</p></li></ul><blockquote><p><strong>注意</strong>：当您在 <code>animation-*</code> 属性上指定多个以逗号分隔的值时，它们将根据值的数量以不同的方式分配给 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-name"><code>animation-name</code> </a>属性中指定的动画。 有关更多信息，请参阅<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NTU19BbmltYXRpb25zL1VzaW5nX0NTU19hbmltYXRpb25zI3NldHRpbmdfbXVsdGlwbGVfYW5pbWF0aW9uX3Byb3BlcnR5X3ZhbHVlcw==">设置多个动画属性值</span>。</p></blockquote><h4 id="animation-play-state"><a class="anchor" href="#animation-play-state">#</a> animation-play-state</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/animation-play-state"><code>animation-play-state</code> </a>属性定义一个动画<strong>是否运行或者暂停</strong>。可以通过<strong>查询它来确定动画是否正在运行</strong>。另外，它的值可以被设置为<strong>暂停和恢复的动画的重放</strong>。恢复一个已暂停的动画，将<strong>从它开始暂停的时候</strong>开始恢复，而不是从动画序列的起点开始。</p><ul><li><p><code>running</code></p><p>当前动画正在运行。</p></li><li><p><code>paused</code></p><p>当前动画已被停止。</p></li></ul><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* Single animation */</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token property">animation-play-state</span><span class="token punctuation">:</span> running<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token property">animation-play-state</span><span class="token punctuation">:</span> paused<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">/* Multiple animations */</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token property">animation-play-state</span><span class="token punctuation">:</span> paused<span class="token punctuation">,</span> running<span class="token punctuation">,</span> running<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">/* Global values */</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token property">animation-play-state</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token property">animation-play-state</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token property">animation-play-state</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></pre></td></tr></table></figure><p>一个栗子：<span class="exturl" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL21pa2Vnb2x1cy9wZW4vakp6UndK">CSS BEER! (codepen.io)</span></p><p>去看了看这个大佬的其他项目，都很有意思！<span class="exturl" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL21pa2Vnb2x1cy9wZW4vYVFWZExW">#codevember - 19 - CSS Eggs (codepen.io)</span>、<span class="exturl" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL21pa2Vnb2x1cy9wZW4vT3dyUGdC">Periodic Table of Elements - HTML/CSS (codepen.io)</span></p><h4 id="transform-api"><a class="anchor" href="#transform-api">#</a> <strong>transform</strong> API</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform"><code>transform</code> </a>属性允许你旋转，缩放，倾斜或平移给定元素。这是通过修改 CSS 视觉格式化模型的坐标空间来实现的。</p><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-origin"><code>transform-origin</code> </a>指定原点的位置，默认的转换原点是 <code>center</code> 。</p><p><code>transform</code> 属性可以指定为关键字值 <code>none</code> 或一个或多个 <code>&lt;transform-function&gt;</code> 值。</p><ul><li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-function"><code>transform-function</code></a></p><p>要应用的一个或多个 CSS 变换函数。 变换函数按从左到右的顺序相乘，这意味着复合变换按从右到左的顺序有效地应用。</p><ul><li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-function#scale"><code>scale</code> </a>（缩放）注意其中心为 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-origin"><code>transform-origin</code> </a>（缩放）注意其中心为 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-origin"><code>transform-origin</code></a></p><p><img data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/93f99f7d68214535ac4eaf6ab1f33ff3~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre>// 沿x轴缩小为50%</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>// 沿x轴缩小为50%，沿y轴放大为之前的2倍</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">,</span> 2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-function#rotate"><code>rotate</code> </a>（旋转） 将元素在不变形的情况下旋转到原点周围 (如 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-origin"><code>transform-origin</code> </a>属性所指定) 。 移动量由指定角度定义；如果为<strong>正值</strong>，则运动将为<strong>顺时针</strong>，如果为负值，则为逆时针 。 180° 的旋转称为点反射 (<em>point reflection</em>)。</p><p><img data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/592ec860492c4406b2178959b0cf4320~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>30deg<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-function#skew"><code>skew</code> </a>（倾斜） 参数表示倾斜角度，单位 deg</p><p>一个参数时表示水平方向的倾斜角度（ax）；</p><p>两个参数时表示水平、垂直（ax, ay）。</p><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">skew</span><span class="token punctuation">(</span>ax<span class="token punctuation">)</span>       </pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">skew</span><span class="token punctuation">(</span>ax<span class="token punctuation">,</span> ay<span class="token punctuation">)</span></pre></td></tr></table></figure></li></ul></li><li><p><code>none</code></p><p>不应用任何变换。</p></li></ul><blockquote><p>** 注意：** 他只能转换由盒模型定位的元素，根据经验如果元素具有 display: block，则由盒模型定位元素。</p></blockquote><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition"><code>transition</code> </a>过渡动画，在 dom 加载完成或 class 发生变化时触发，这个属性是 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition-property"><code>transition-property</code> </a>，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition-duration"> <code>transition-duration</code> </a>，<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition-timing-function"> <code>transition-timing-function</code> </a>和 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transition-delay"><code>transition-delay</code> </a>的一个简写属性。</p><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* Apply to 1 property */</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">/* property name | duration */</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token property">transition</span><span class="token punctuation">:</span> margin-right 4s<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">/* property name | duration | delay */</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token property">transition</span><span class="token punctuation">:</span> margin-right 4s 1s<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">/* property name | duration | timing function */</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token property">transition</span><span class="token punctuation">:</span> margin-right 4s ease-in-out<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">/* property name | duration | timing function | delay */</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token property">transition</span><span class="token punctuation">:</span> margin-right 4s ease-in-out 1s<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">/* Apply to 2 properties */</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token property">transition</span><span class="token punctuation">:</span> margin-right 4s<span class="token punctuation">,</span> color 1s<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">/* Apply to all changed properties */</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token property">transition</span><span class="token punctuation">:</span> all 0.5s ease-out<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment">/* Global values */</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token property">transition</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token property">transition</span><span class="token punctuation">:</span> initial<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token property">transition</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span></pre></td></tr></table></figure><h4 id="keyframe实现动画"><a class="anchor" href="#keyframe实现动画">#</a> keyframe 实现动画</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@keyframes"><code>@keyframes</code> </a>关键帧 @keyframes at-rule 规则通过在动画序列中定义关键帧（或 waypoints）的样式来控制 CSS 动画序列中的中间步骤。和 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvQ1NTL0NTU19UcmFuc2l0aW9ucw==">转换 transition</span> 相比，关键帧 keyframes 可以控制动画序列的中间步骤。</p><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre>// 从左侧滑入</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token atrule"><span class="token rule">@keyframes</span> slidein</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token selector">from</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0%<span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token selector">to</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>100%<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>// </pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token atrule"><span class="token rule">@keyframes</span> identifier</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token selector">0%</span> <span class="token punctuation">&#123;</span> <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token selector">50%</span> <span class="token punctuation">&#123;</span> <span class="token property">top</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span> <span class="token property">left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token selector">50%</span> <span class="token punctuation">&#123;</span> <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token selector">100%</span> <span class="token punctuation">&#123;</span> <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>举个栗子：<span class="exturl" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL3l1c2l4aWFuL3Blbi9yTkdFcG9qP2VkaXRvcnM9MTEwMA==">my CSS Animation pratice (codepen.io)</span></p><figure class="highlight css"><figcaption data-lang="CSS"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token atrule"><span class="token rule">@keyframes</span> identifier</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token selector">0%</span> <span class="token punctuation">&#123;</span> <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token selector">50%</span> <span class="token punctuation">&#123;</span> <span class="token property">top</span><span class="token punctuation">:</span> 60%<span class="token punctuation">;</span> <span class="token property">left</span><span class="token punctuation">:</span> 60%<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token atrule"><span class="token rule">@keyframes</span> slidein</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token selector">from</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0%<span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token selector">to</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>100%<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token selector">body  >div</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token property">display</span><span class="token punctuation">:</span>flex<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token property">align-items</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token property">color</span><span class="token punctuation">:</span> #fafafa<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token property">background-color</span><span class="token punctuation">:</span> #141414<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token property">width</span><span class="token punctuation">:</span>20%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span>20%<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token comment">/*   从左上到右下，持续 5s，延迟 1s，无限循环 */</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment">/*   animation: identifier 5s linear 1s infinite; */</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token comment">/*   向右滑，持续 1s，两次 */</span></pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token property">animation</span><span class="token punctuation">:</span> slidein 1s 2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结一下：</p><p>css 动画的优点：简单、高效、声明式的。不依赖于主线程，采用硬件加速（GPU），通过简单的控制 keyframe animation 播放和暂停。</p><p>缺点：不能<strong>动态修改或定义动画</strong>，内容不同的动画<strong>无法实现同步</strong>，<strong>多个动画彼此无法堆叠</strong>。<br>适用场景：简单的 h5 活动 / 宣传页。<br>推荐库:<span class="exturl" data-url="aHR0cHM6Ly9hbmltYXRlLnN0eWxlLw==">Animate.css</span>、<span class="exturl" data-url="aHR0cHM6Ly9lbHJ1bW9yZGVsYWx1ei5naXRodWIuaW8vY3NzaGFrZS8=">CSShake</span> 等。</p><h3 id="svg实现动画"><a class="anchor" href="#svg实现动画">#</a> svg 实现动画</h3><p>svg 是基于 XML 的矢量图形描述语言，它可以与 CSS 和] S 较好的配合，实现 svg 动画通常有三种方式:<strong>SMIL、JS、CSS</strong></p><ul><li>SMIL：同步多媒体集成语言<ul><li>结论∶兼容性不理想，这里不过多讨论，当然有 polyfill 的方案:<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2VyaWN3aWxsaWdlcnMvc3ZnLWFuaW1hdGlvbg==">https://github.com/ericwilligers/svg-animation</span></li></ul></li><li>使用 JS 来操作 SVG 动画自不必多说，目前也有很多现成的类库。例如老牌的 Snap.svg 以及 anime.js，都能让我们快速制作 SVG 动画。当然，除了这些类库，HTML 本身也有原生的 Web Animation 实现。使用 Web 8622Animation 也能让我们方便快捷地制作动画。这是老师的两个栗子：<ul><li>文字形变: <span class="exturl" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL2ppYW5neGlhbmcvcGVuL01XbWRqZVk=">https://codepen.io/jiangxiang/pen/MWmdjeY</span></li><li>Path 实现写字动画: <span class="exturl" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL2ppYW5neGlhbmcvcGVuL3JObWdqcVg=">SVG 写字动画 (codepen.io)</span></li></ul></li></ul><p>第一个动画的实现原理</p><h4 id="文字溶解原理-filter"><a class="anchor" href="#文字溶解原理-filter">#</a> 文字溶解原理 - filter</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter"><code>filter</code> </a>属性将模糊或颜色偏移等图形效果应用于元素。滤镜通常用于调整图像，背景和边框的渲染。基础案例：<span class="exturl" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL2ppYW5neGlhbmcvcGVuL1hXZVFHUUs=">https://codepen.io/jiangxiang/pen/XWeQGQK</span></p><ul><li>blur 逐渐变小，在 blur 快没有的时候将其 opacity 设为 0 隐藏掉，就可以实现一个溶解效果</li></ul><h4 id="js笔画原理-stroke"><a class="anchor" href="#js笔画原理-stroke">#</a> JS 笔画原理 - stroke</h4><p>stroke-dashoffset、stroke-dasharray 配合使用实现笔画效果。<br><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-dasharray"><code>stroke-dasharray</code> </a>属性可控制用来描边的点划线的图案范式。它是一个数列，数与数之间用逗号或者空白隔开，指定短划线和缺口的长度。<strong>如果提供了奇数个值，则这个值的数列重复一次，从而变成偶数个值</strong>。因此，<strong>5,3,2 等同于 5,3,2,5,3,2。</strong><br><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dashoffset"><code>stroke-dashoffset</code> </a>属性指定了 dash 模式到路径开始的距离。<br>老师的示例：<span class="exturl" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL2ppYW5neGlhbmcvcGVuL0xZenZ2eGQ=">stroke-dasharray&amp;stroke-dashoffset (codepen.io)</span></p><figure class="highlight html"><figcaption data-lang="HTML"></figcaption><table><tr><td data-num="1"></td><td><pre>// 5px实线 5px空白 x1y1 -> x2y2</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">stroke-dasharray</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5, 5<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>// 5px实线 10px空白</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">stroke-dasharray</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5, 10<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>30<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>30<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre>// 10px实线 5px空白</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">stroke-dasharray</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10, 5<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre>// 5px实线 1px空白...</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">stroke-dasharray</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5, 1<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>70<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>70<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">stroke-dasharray</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1, 5<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>90<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>90<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">stroke-dasharray</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.9<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>110<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>110<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">stroke-dasharray</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>15, 10, 5<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>130<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>130<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">stroke-dasharray</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>15, 10, 5, 10<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>150<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>150<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">stroke-dasharray</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>15, 10, 5, 10, 15<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>170<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>170<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr><tr><td data-num="14"></td><td><pre>// 总长度180 180实线 180空白（全是实线） 这个时候改变dashoffset的值就可以实现笔画效果</pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>line</span> <span class="token attr-name">stroke-dasharray</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>180<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-dashoffset的值就可以实现笔画效果</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">x1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10<span class="token punctuation">"</span></span> <span class="token attr-name">y1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token attr-name">x2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token attr-name">y2</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>190<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></pre></td></tr></table></figure><p><img data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d08067ea0b1c4fd78ac56b117d8043a4~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>直线这种比较简单的可以直接知道其总长度进而通过初始化 dashoffset 实现笔画效果，那么不规则图形？</p><blockquote><p>通过 path.getTotalLength ();</p></blockquote><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvU1ZHL1R1dG9yaWFsL1BhdGhz">path 路径 </span>- <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvU1ZHL0F0dHJpYnV0ZS9k">d</span> 属性定义<br>大写字母跟随的是绝对坐标 x,y，小写为相对坐标 dx,dyM/m 绘制起始点。</p><ul><li><p>L/l 绘制一条线段。<br>C/c 为绘制贝塞尔曲线。<br>Z/z 将当前点与起始点用直线连接。</p></li><li><p>计算 path 的长度 - path.getTotalLength ();</p></li><li><p>计算 path 上某个点的坐标 - path.getPointAtLength (lengthNumber);</p></li></ul><p>老师的例子：<span class="exturl" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL2ppYW5neGlhbmcvcGVuL2VZV2FneHE=">SVG 使用 stroke-dashoffset 和 stroke-dashoffset 实现笔画效果 (codepen.io)</span></p><ul><li><p>svg 动画的优点∶通过矢量元素实现动画，不同的屏幕下均可获得较好的清晰度。可以实现一些特殊的效果：<strong>描字，形变，墨水扩散</strong>等。</p></li><li><p>缺点∶使用方式较为<strong>复杂</strong>，<strong>过多使用可能会带来性能</strong>问题。</p></li></ul><h3 id="js实现动画"><a class="anchor" href="#js实现动画">#</a> js 实现动画</h3><p>JS 可以实现复杂的动画，可以操作 css、svg 也可以操作 canvas 动画 API 上进行绘制。</p><h3 id="如何做选择"><a class="anchor" href="#如何做选择">#</a> 如何做选择？</h3><p>CSS 实现</p><ul><li><p>优点</p><ul><li>浏览器会对 CSS3 动画做一些优化，导致 CSS3 动画性能上稍有优势（新建一个图层来跑动画）</li><li>CSS3 动画的代码相对简单</li></ul></li><li><p>缺点</p><ul><li><p>动画控制上不够灵活</p></li><li><p>兼容性不佳</p></li><li><p>部分动画无法实现（视差效果、滚动动画）</p></li></ul></li><li><p>对于简单动画都可以用 css 实现</p></li></ul><p>JS 实现</p><ul><li><p>优点</p><ul><li><p><strong>使用灵活</strong>，同样在定义一个动画的 keyframe 序列时，可以根据不同的条件调节若干参数（JS 动画函数）改变动画方式。（CSS 会有非常多的代码冗余）</p></li><li><p>对比与<strong> CSS 的 keyframe 粒度更粗</strong>，Css<strong> 本身的时间函数是有限</strong>的，这块 <strong>JS 都可做弥补。</strong></p></li><li><p>CSS 很难做到<strong>两个以上的状态转化</strong>（要么使用关键帧，要么需要多个动画延时触发，再想到要对动画循环播放或暂停倒序等，<strong>复杂度极高</strong>）</p></li></ul></li><li><p>缺点</p><ul><li>使用到 JS 运行时，<strong>调优方面不如 CSS 简单</strong>，CSS 调优方式固定。</li><li>对于性能和兼容性较差的浏览器，CSS 可以做到优雅降级，而 **JS 需要额外代码兼容。** 会影响打包后产物的体积。</li></ul></li></ul><p>总结：</p><ul><li>当为 UI 元素采用较小的独立状态时，使用 CSS.</li><li>在需要对动画进行大量控制时，使用 JavaScript。</li><li>在特定的场景下可以使用 SVG，可以使用 CSS 或 JS 去操作 SVG 变化。（比如上述的溶解、笔画效果等）</li></ul><h2 id="实现前端动画"><a class="anchor" href="#实现前端动画">#</a> 实现前端动画</h2><h3 id="js动画函数封装"><a class="anchor" href="#js动画函数封装">#</a> js 动画函数封装</h3><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>easing<span class="token punctuation">,</span> draw<span class="token punctuation">,</span> duration<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token keyword">let</span> start <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取当前时间</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      <span class="token keyword">let</span> timeFraction <span class="token operator">=</span> <span class="token punctuation">(</span>time <span class="token operator">-</span> start<span class="token punctuation">)</span> <span class="token operator">/</span> duration<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>      <span class="token keyword">if</span><span class="token punctuation">(</span>timeFraction <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> timeFraction <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>      </pre></td></tr><tr><td data-num="8"></td><td><pre>      <span class="token keyword">let</span> progress <span class="token operator">=</span> <span class="token function">easing</span><span class="token punctuation">(</span>timeFraction<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>      <span class="token function">draw</span><span class="token punctuation">(</span>progress<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      </pre></td></tr><tr><td data-num="12"></td><td><pre>      <span class="token keyword">if</span><span class="token punctuation">(</span>timeFraction <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>          <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>          <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>这个函数中首先通过<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvQVBJL1BlcmZvcm1hbmNlL25vdw=="> performance.now ()</span> 取到当前系统时间，它以一个恒定的速率慢慢增加，不会受到系统时间的影响以浮点数的形式表示时间，<strong>精度最高可达微秒级</strong>，不易被篡改。入参说明：</p><ul><li><p>draw 绘制函数</p><ul><li><p>可以将其想象为一只画笔，随着函数执行，这个画笔的函数会被反复的调用，并传入当前执行的进度 progress，progress 取决于 easing 的值，如若为线性增加的则为 0~1。如：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> ball <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.ball'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">progress</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>progress<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px, 0)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ul></li><li><p>easing 缓动函数</p><ul><li><p>缓动函数改变（或者说扭曲）动画的时间，将其改为线性 / 非线性，或者多维度的。如：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">easing</span><span class="token punctuation">(</span><span class="token parameter">timeFraction</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">return</span> timeFraction <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">;</span>   <span class="token comment">//timeFraction 的平方</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ul></li><li><p>duration 持续时间 顾名思义，单位是毫秒</p></li><li><p>最后返回 Promise 的原因：</p><ul><li><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvSmF2YVNjcmlwdC9HdWlkZS9Vc2luZ19wcm9taXNlcw==">Promise</span> 是一个对象，它代表了一个异步操作的最终完成或者失败。</p></li><li><p>动画可以是连续的，Promise 支持通过 then 函数或 await 进行顺序调用，可以很容易地拿到这个动画的终态</p></li></ul></li><li><p>这个动画函数实现一个有限时间的动画封装</p></li><li><p>**RequestAnimationFrame (rAF) ** vs <strong>SetTimeout</strong> vs <strong>Setlnterval</strong></p><ul><li><p>使用<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvQVBJL1dpbmRvdy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWU="> requestAnimationFrame</span>！为什么？</p><p>该内置方法允许设置回调函数以<strong>在浏览器准备重绘时运行</strong>。通常这很快，但确切的时间取决于浏览器。<br>setTimeout 和 setInterval 当页面在后台时，根本<strong>没有重绘</strong>，所以回调不会运行：** 动画将被暂停并且不会消耗资源。** 参考：<span class="exturl" data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDMzNzk2NDAvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWxvb3Atbm90LWNvcnJlY3QtZnBzLzQzMzgxODI4IzQzMzgxODI4">javascript - requestAnimationFrame loop not correct FPS - Stack Overflow</span></p><blockquote><p>重排：若渲染树的一部分更新，且<strong>尺寸变化</strong>，就会发生重排。</p><p>重绘：部分节点需要更新，但<strong>不改变其他集合形状</strong>。如改变某个元素的 visibility、outline、背景颜色等，就会发生重绘。</p></blockquote></li></ul></li></ul><h3 id="简单动画"><a class="anchor" href="#简单动画">#</a> 简单动画</h3><p>JS 执行动画的核心思想</p><blockquote><p>∆r = ∆v∆t</p></blockquote><p>简单理解：r 为距离，v 速度，t 是时间。通过比例系数缩放来保证动画的真实感。</p><p>举个例子：匀速运动，老师的例子非常全面<span class="exturl" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL2ppYW5neGlhbmcvcGVuL3JObWdWS0s="> JS 封装动画函数 (codepen.io)</span>（一定要去看看！）</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> ball <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.ball'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">progress</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>progress<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px, 0)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 沿 x 轴匀速运动</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token function">easing</span><span class="token punctuation">(</span><span class="token parameter">timeFraction</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">return</span> timeFraction <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    draw</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p><img data-src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cb13be23f4e34790a350e079ed3cca1e~tplv-k3u1fbpfcp-watermark.image?" alt="1.gif"></p><ul><li>重力：h = g * t <sup>2</sup></li></ul><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>t<span class="token operator">^</span><span class="token number">2</span><span class="token operator">^</span><span class="token comment">// 重力</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">gravity</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">const</span> <span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">progress</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>	<span class="token comment">// 高度 500</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(0, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token number">500</span> <span class="token operator">*</span> <span class="token punctuation">(</span>progress <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token function">easing</span><span class="token punctuation">(</span><span class="token parameter">timeFraction</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>      <span class="token keyword">return</span> timeFraction <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">;</span>	<span class="token comment">//t 平方</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    draw<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><img data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/36c45c23baed4ed98e29e0e7f45a3140~tplv-k3u1fbpfcp-watermark.image?" alt="2.gif"></p><ul><li>摩擦力：时间变为 2t - t<sup>2</sup></li></ul><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 摩擦力</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">friction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token comment">// 初始高度 500px</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">const</span> <span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">progress</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(0, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token number">500</span> <span class="token operator">*</span> <span class="token punctuation">(</span>progress <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token function">easing</span><span class="token punctuation">(</span><span class="token parameter">timeFraction</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>      <span class="token comment">// 初始速度系数为 2</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      <span class="token keyword">return</span> timeFraction <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">-</span> timeFraction<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    draw<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><img data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/066ff6078d39479da3229092e10b5925~tplv-k3u1fbpfcp-watermark.image?" alt="3.gif"></p><ul><li>平抛 （x 轴匀速，y 轴加速） 也就是说，y 轴类似重力中的 t<sup>2</sup> 而 x 轴速度不变</li></ul><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 平抛 x</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">horizontalMotion</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">const</span> <span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">progress</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token number">500</span> <span class="token operator">*</span> progress<span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token number">500</span> <span class="token operator">*</span> <span class="token punctuation">(</span>progress<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token comment">// 有两个方向，沿着 x 轴匀速运动，沿着 y 轴加速运动</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token function">easing</span><span class="token punctuation">(</span><span class="token parameter">timeFraction</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token literal-property property">x</span><span class="token operator">:</span> timeFraction<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token literal-property property">y</span><span class="token operator">:</span> timeFraction <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    draw<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><img data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0f956087eb91462b9072a126934ff568~tplv-k3u1fbpfcp-watermark.image?" alt="4.gif"></p><p>其余的还有很多，再多的话就在 easing 返回的对象中加入新的属性，如旋转：</p><ul><li><p>旋转 + 平抛</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 旋转 + 平抛</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">horizontalMotionWidthRotate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">const</span> <span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">progress</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token number">500</span> <span class="token operator">*</span> progress<span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token number">500</span> <span class="token operator">*</span> <span class="token punctuation">(</span>progress<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px) rotate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token number">2000</span> <span class="token operator">*</span> progress<span class="token punctuation">.</span>rotate<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">deg)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><span class="token comment">// 这里的 2000 也是比例系数</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token comment">// 有两个方向，沿着 x 轴匀速运动，沿着 y 轴加速运动</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token function">easing</span><span class="token punctuation">(</span><span class="token parameter">timeFraction</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token literal-property property">x</span><span class="token operator">:</span> timeFraction<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token literal-property property">y</span><span class="token operator">:</span> timeFraction <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token literal-property property">rotate</span><span class="token operator">:</span> timeFraction<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="15"></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    draw<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><img data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8596a1014d81410e8fbf91ec0a03a3fc~tplv-k3u1fbpfcp-watermark.image?" alt="5.gif"></p></li><li><p>拉弓（x 轴匀速，y 轴初始速度为负的匀加速）</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 拉弓</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">arrowMove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token comment">// 抽象出来，初始值为 2，到某个临界点变为正的 1 并且匀速增加</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">const</span> <span class="token function-variable function">back</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> timeFraction</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>timeFraction<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> timeFraction <span class="token operator">-</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token keyword">const</span> <span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">progress</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token number">200</span><span class="token operator">*</span>progress<span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span> <span class="token operator">-</span> <span class="token number">500</span> <span class="token operator">*</span> progress<span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token function">easing</span><span class="token punctuation">(</span><span class="token parameter">timeFraction</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token literal-property property">x</span><span class="token operator">:</span> timeFraction<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> timeFraction<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    draw<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li></ul><p><img data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c78ab72096e1434d9f811e606e7c4c11~tplv-k3u1fbpfcp-watermark.image?" alt="6.gif"></p><ul><li><p>贝塞尔曲线 <span class="exturl" data-url="aHR0cHM6Ly9jdWJpYy1iZXppZXIuY29tLyMwLDIuMTEsMSwuMTk=">cubic-bezier(0,2.11,1,.19) ✿ cubic-bezier.com</span>、<span class="exturl" data-url="aHR0cHM6Ly93d3cuamFzb25kYXZpZXMuY29tL2FuaW1hdGVkLWJlemllci8=">Animated Bézier Curves - Jason Davies</span></p><ul><li>ps：讲到这里开始逐渐硬核起来了，tql</li></ul><p><img data-src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/abef976de60e4f549becd34b269408de~tplv-k3u1fbpfcp-watermark.image?" alt="10.gif"></p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 贝塞尔</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">bezier</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">const</span> <span class="token function-variable function">bezierPath</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">,</span> timeFraction</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> x1 <span class="token operator">*</span> timeFraction <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> timeFraction<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> x2 <span class="token operator">*</span> timeFraction <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> timeFraction<span class="token punctuation">)</span> <span class="token operator">+</span> timeFraction <span class="token operator">**</span> <span class="token number">3</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> y1 <span class="token operator">*</span> timeFraction <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> timeFraction<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> y2 <span class="token operator">*</span> timeFraction <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> timeFraction<span class="token punctuation">)</span> <span class="token operator">+</span> timeFraction <span class="token operator">**</span> <span class="token number">3</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">const</span> <span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">progress</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">const</span> <span class="token punctuation">[</span>px<span class="token punctuation">,</span> py<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">bezierPath</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> progress<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token comment">// 实际绘制在两个维度上</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token number">300</span> <span class="token operator">*</span> px<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token operator">-</span><span class="token number">300</span> <span class="token operator">*</span> py<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token function">easing</span><span class="token punctuation">(</span><span class="token parameter">timeFraction</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>      <span class="token keyword">return</span> timeFraction <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">-</span> timeFraction<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    draw<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><img data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65f2c703e2dd427ea0013d78d30f1f41~tplv-k3u1fbpfcp-watermark.image?" alt="11.gif"></p></li></ul><h3 id="复杂动画"><a class="anchor" href="#复杂动画">#</a> 复杂动画</h3><ul><li><p>弹跳小球（缓动函数实现 / 自动衰减实现）</p><ul><li>直接去看老师的例子：<span class="exturl" data-url="aHR0cHM6Ly9jb2RlcGVuLmlvL2ppYW5neGlhbmcvcGVuL3JObWdWS0s/ZWRpdG9ycz0wMDEw">JS 封装动画函数 (codepen.io)</span>，自动衰减这里填了之前的一个坑：为什么要使用 Promise，在每次执行完毕是，会将句柄再交给上面的函数判断是否有速度的衰减，直到速度为 0 的时候会自动结束。</li></ul><p><img data-src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3fe64ea4171e49f1bf4dd1c4b6b06dc4~tplv-k3u1fbpfcp-watermark.image?" alt="7.gif"></p></li></ul><p>自动衰减：更加复杂</p><p><img data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7a7244b30a714bd481b3de84bede051c~tplv-k3u1fbpfcp-watermark.image?" alt="8.gif"></p><ul><li><p>椭圆运动</p><ul><li><p>套公式即可，x = a*cos (a)，y = b * sin (a)</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 椭圆</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">ellipsis</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">const</span> <span class="token function-variable function">draw</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">progress</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token number">150</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> progress<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">const</span> y <span class="token operator">=</span> <span class="token number">100</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> progress<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    ball<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>x<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>y<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">px)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  </pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token function">easing</span><span class="token punctuation">(</span><span class="token parameter">timeFraction</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>      <span class="token keyword">return</span> timeFraction <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">-</span> timeFraction<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    draw<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li></ul></li></ul><p><img data-src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4808e48403684d70b74a9ff5defa419d~tplv-k3u1fbpfcp-watermark.image?" alt="9.gif"></p><h2 id="相关实践资源"><a class="anchor" href="#相关实践资源">#</a> 相关实践资源</h2><p>动画代码示例：</p><ul><li><span class="exturl" data-url="aHR0cHM6Ly9jb2RlcGVuLmlv">CodePen</span> 可以提供很多设计灵感</li><li><span class="exturl" data-url="aHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9kYXNoYm9hcmQvaG9tZT93b3Jrc3BhY2U9Nzk4NDZjYWYtMjJhNS00MTlmLWJkNzktNjQ5NTRlN2FkOWRk">CodeSandbox</span> 方便引入 SDK</li></ul><p>设计网站：</p><ul><li><span class="exturl" data-url="aHR0cHM6Ly9kcmliYmJsZS5jb20v">Dribbble - Discover the World’s Top Designers &amp; Creative Professionals</span></li><li>我自己推荐一手 figma：<span class="exturl" data-url="aHR0cHM6Ly93d3cuZmlnbWEuY29tL2ZpbGVzL3JlY2VudD9mdWlkPTEwMzczNTU5ODQ5MzQ5Mzg0OTc=">Figma</span></li></ul><p>动画制作工具 (一般都是 UE、UI 同学使用):</p><ul><li>2D : Animate CC、After Effects</li><li>3D :Cinema 4D、Blender、Autodesk Maya</li></ul><p>SVG:</p><ul><li><p>Snap.SVG - 现代 SVG 图形的 JavaScript 库</p></li><li><p>Svg.js - 用于操作和动画 SVG 的轻量级库。</p></li></ul><p>JS:</p><ul><li><p>GSAP - JavaScript 动画库。</p></li><li><p>TweenJS - 一个简单但功能强大的 JavaScript 补间 / 动画库。CreateJS 库套件的一部分。</p></li><li><p>Velocity - 加速的 JavaScript 动画。</p></li></ul><p>CSS:</p><ul><li>Animate.css - CSS 动画的跨浏览器库。像一件简单的事情一样容易使用。</li></ul><p>canvas:</p><ul><li><p>EaselJS - EaselJS 是一个用于在 HTML5 中构建高性能交互式 2D 内容的库</p></li><li><p>Fabric.js - 支持动画的 JavaScript 画布库。</p></li><li><p>Paper.js - 矢量图形脚本的瑞士军刀</p></li><li><p>Scriptographer - 使用 HTML5</p><p>Canvas 移植到 JavaScript 和浏览器。</p></li><li><p>Pixijs –使用最快、最灵活的 2D WebGL 渲染器创建精美的数字内容。</p></li></ul><p>在实际工作中往往是将 UI 给的动画帧 / 设计文件转化为代码</p><ul><li><p>需要完全前端自己设计自己开发时：</p><ul><li>使用已封装好的动画库，从开发成本和体验角度出发进行取舍</li></ul></li><li><p>设计不是很有空时：</p><ul><li>清晰度、图片格式可以指定，动画<strong>尽量给出示意或者相似案例参考</strong>。索要精灵图资源等需要帮忙压缩。（移动端的资源适配等）</li></ul></li><li><p>设计资源充足时：</p><ul><li><p>要求设计导出 lottie 格式文件</p><blockquote><p>Lottie 是可应用于 Android, ios, Web 和 Windows 的库，<br>通过 Bodymovin 解析 AE 动画，并导出可在移动端和 web 端渲染动画的 json 文件。</p></blockquote><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> lottie <span class="token keyword">from</span> <span class="token string">'lottie-web'</span> <span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span>animation <span class="token operator">=</span> lottie<span class="token punctuation">.</span><span class="token function">loadAnimation</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token literal-property property">container</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animationRef<span class="token punctuation">.</span>current<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token literal-property property">renderer</span><span class="token operator">:</span> <span class="token string">'svg'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token literal-property property">loop</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token literal-property property">autoplay</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token literal-property property">aninationData</span><span class="token operator">:</span> dataJson<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token constant">URL</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li></ul></li></ul><h3 id="优化"><a class="anchor" href="#优化">#</a> 优化</h3><ul><li><p><span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU1JThCJTk1JUU3JTk1JUFCJUU3JTlBJTg0MTIlRTklQTAlODUlRTUlOUYlQkElRTYlOUMlQUMlRTYlQjMlOTUlRTUlODklODc=">动画的 12 项基本法则 - 维基百科，自由的百科全书 (wikipedia.org)</span></p></li><li><p>性能角度</p><ul><li>重点：减少重绘、重排，这是整个环节中最为耗时的两环。</li></ul></li></ul><blockquote><p>页面渲染的一般过程为 JS -&gt; CSS -&gt; 计算样式 --&gt; 布局 -&gt; 绘制 -&gt; 渲染层合并。</p><p>其中，<strong>Layout (重排) 和 Paint (重绘) 是整个环节中最为耗时的两环</strong>，所以我们尽量避免这两个环节。从性能方面考虑，<strong>最理想的渲染流水线是没有布局和绘制环节</strong>的，<strong>只需要做渲染层的合并</strong>即可。</p></blockquote><ul><li>通过<span class="exturl" data-url="aHR0cHM6Ly9jc3N0cmlnZ2Vycy5jb20v"> CSS Triggers</span> 可以查询 CSS 属性及其影响的环节</li></ul><h3 id="建议"><a class="anchor" href="#建议">#</a> 建议</h3><ul><li>在实际的应用里，最为简单的一个注意点就是，<strong>触发动画的开始不要用 display:none 属性值</strong>，因为<strong>它会引起 Layout、Paint 环节</strong>，通过<strong>切换类名</strong>就已经是一种很好的办法。</li></ul><blockquote><p>ps：学到了！这就去改改</p></blockquote><ul><li>CSS3 硬件加速又叫做 GPU 加速，是利用 GPU 进行渲染，减少 CPU 操作的一种优化方案。由于 GPU 中的 transform 等 CSS 属性不会触发 repaint，所以能大大提高网页的性能。CSS 中的以下几个属性能触发硬件加速：<ul><li>transform</li><li>opacity</li><li>filter</li><li>Will-change</li><li>如果有一些元素不需要用到上述属性，但是需要触发硬件加速效果，可以使用一些小技巧来诱导浏览器开启硬件加速。</li><li>- 算法优化<br>- 线性函数代替真实计算 - 几何模型优化<br>- 碰撞检测优化 622<br>- 内存 / 缓存优化 - 离屏绘制</li></ul></li></ul><h2 id="总结感想"><a class="anchor" href="#总结感想">#</a> 总结感想</h2><p>今天的课也非常的硬核，介绍了前端动画的基本原理、前端动画的分类和如何实现前端的动画，并介绍了相关资源与实践方法。让我对前端动画有了一个更深刻的了解，最后给出的资源推荐也很有帮助～</p><blockquote><p>本文引用的内容大部分来自蒋翔老师的课、MDN（CSS 动画属性的介绍翻了半天 MDN，上面写的非常全面并且有很生动的例子，推荐一看）</p></blockquote><div class="tags"><a href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag"><i class="ic i-tag"></i> 前端</a> <a href="/tags/%E5%8A%A8%E7%94%BB/" rel="tag"><i class="ic i-tag"></i> 动画</a> <a href="/tags/CSS/" rel="tag"><i class="ic i-tag"></i> CSS</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-05-09 00:52:24" itemprop="dateModified" datetime="2022-05-09T00:52:24+08:00">2022-05-09</time> </span><span id="note/front-end/bytedance-note/animation-implement/" class="item leancloud_visitors" data-flag-title="青训营 |「前端动画实现」" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/img/wechatpay.png" alt="cos 微信支付"><p>微信支付</p></div><div><img data-src="/img/alipay.png" alt="cos 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>作者： </strong>cos <i class="ic i-at"><em>@</em></i>余弦の博客</li><li class="link"><strong>本文链接：</strong> <a href="https://ysx.cosine.ren/note/front-end/bytedance-note/animation-implement/" title="青训营 |「前端动画实现」">https://ysx.cosine.ren/note/front-end/bytedance-note/animation-implement/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/note/front-end/bytedance-note/responsive-system-and-react/" itemprop="url" rel="prev" data-background-image="&#x2F;img&#x2F;header_img&#x2F;lml_bg.jpg" title="青训营 |「响应式系统与 React」"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 青训营笔记</span><h3>青训营 |「响应式系统与 React」</h3></a></div><div class="item right"><a href="/note/front-end/bytedance-note/http-utilization-guide/" itemprop="url" rel="next" data-background-image="&#x2F;img&#x2F;header_img&#x2F;lml_bg.jpg" title="青训营 |「HTTP实用指南」"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 青训营笔记</span><h3>青训营 |「HTTP实用指南」</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-number">1.</span> <span class="toc-text">动画的基本原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.1.</span> <span class="toc-text">动画是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E5%8F%91%E5%B1%95%E5%8F%B2"><span class="toc-number">1.2.</span> <span class="toc-text">动画发展史</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8A%A8%E7%94%BB"><span class="toc-number">1.3.</span> <span class="toc-text">计算机动画</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E5%8A%A8%E7%94%BB%E5%88%86%E7%B1%BB"><span class="toc-number">2.</span> <span class="toc-text">前端动画分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#css%E5%8A%A8%E7%94%BB"><span class="toc-number">2.1.</span> <span class="toc-text">css 动画</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#animation-name"><span class="toc-number">2.1.1.</span> <span class="toc-text">animation-name</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#animation-duration"><span class="toc-number">2.1.2.</span> <span class="toc-text">animation-duration</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#animation-timing-function"><span class="toc-number">2.1.3.</span> <span class="toc-text">animation-timing-function</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#animation-delay"><span class="toc-number">2.1.4.</span> <span class="toc-text">animation-delay</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#animation-iteration-count"><span class="toc-number">2.1.5.</span> <span class="toc-text">animation-iteration-count</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#animation-direction"><span class="toc-number">2.1.6.</span> <span class="toc-text">animation-direction</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#animation-fill-mode"><span class="toc-number">2.1.7.</span> <span class="toc-text">animation-fill-mode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#animation-play-state"><span class="toc-number">2.1.8.</span> <span class="toc-text">animation-play-state</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#transform-api"><span class="toc-number">2.1.9.</span> <span class="toc-text">transform API</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#keyframe%E5%AE%9E%E7%8E%B0%E5%8A%A8%E7%94%BB"><span class="toc-number">2.1.10.</span> <span class="toc-text">keyframe 实现动画</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#svg%E5%AE%9E%E7%8E%B0%E5%8A%A8%E7%94%BB"><span class="toc-number">2.2.</span> <span class="toc-text">svg 实现动画</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E5%AD%97%E6%BA%B6%E8%A7%A3%E5%8E%9F%E7%90%86-filter"><span class="toc-number">2.2.1.</span> <span class="toc-text">文字溶解原理 - filter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#js%E7%AC%94%E7%94%BB%E5%8E%9F%E7%90%86-stroke"><span class="toc-number">2.2.2.</span> <span class="toc-text">JS 笔画原理 - stroke</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#js%E5%AE%9E%E7%8E%B0%E5%8A%A8%E7%94%BB"><span class="toc-number">2.3.</span> <span class="toc-text">js 实现动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%81%9A%E9%80%89%E6%8B%A9"><span class="toc-number">2.4.</span> <span class="toc-text">如何做选择？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%89%8D%E7%AB%AF%E5%8A%A8%E7%94%BB"><span class="toc-number">3.</span> <span class="toc-text">实现前端动画</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#js%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85"><span class="toc-number">3.1.</span> <span class="toc-text">js 动画函数封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%8A%A8%E7%94%BB"><span class="toc-number">3.2.</span> <span class="toc-text">简单动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%8A%A8%E7%94%BB"><span class="toc-number">3.3.</span> <span class="toc-text">复杂动画</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E5%AE%9E%E8%B7%B5%E8%B5%84%E6%BA%90"><span class="toc-number">4.</span> <span class="toc-text">相关实践资源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%96"><span class="toc-number">4.1.</span> <span class="toc-text">优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E8%AE%AE"><span class="toc-number">4.2.</span> <span class="toc-text">建议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E6%84%9F%E6%83%B3"><span class="toc-number">5.</span> <span class="toc-text">总结感想</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/note/front-end/bytedance-note/css-learning-layout/" rel="bookmark" title="青训营 |「CSS布局」">青训营 |「CSS布局」</a></li><li><a href="/note/front-end/bytedance-note/javascript-learing/" rel="bookmark" title="青训营 |「跟着月影学 JavaScript」笔记">青训营 |「跟着月影学 JavaScript」笔记</a></li><li><a href="/note/front-end/bytedance-note/web-standards-and-front-end-development/" rel="bookmark" title="青训营 |「Web 标准与前端开发」">青训营 |「Web 标准与前端开发」</a></li><li><a href="/note/front-end/bytedance-note/development-and-debugging/" rel="bookmark" title="青训营 |「前端必须知道的开发调试知识」">青训营 |「前端必须知道的开发调试知识」</a></li><li class="active"><a href="/note/front-end/bytedance-note/animation-implement/" rel="bookmark" title="青训营 |「前端动画实现」">青训营 |「前端动画实现」</a></li><li><a href="/note/front-end/bytedance-note/responsive-system-and-react/" rel="bookmark" title="青训营 |「响应式系统与 React」">青训营 |「响应式系统与 React」</a></li><li><a href="/note/front-end/bytedance-note/http-utilization-guide/" rel="bookmark" title="青训营 |「HTTP实用指南」">青训营 |「HTTP实用指南」</a></li><li><a href="/note/front-end/bytedance-note/nodejs-develop/" rel="bookmark" title="青训营 |「Node.js 与前端开发实战」">青训营 |「Node.js 与前端开发实战」</a></li><li><a href="/note/front-end/bytedance-note/web-safe-getting-started/" rel="bookmark" title="青训营 |「Web开发的安全之旅」">青训营 |「Web开发的安全之旅」</a></li><li><a href="/note/front-end/bytedance-note/webgl-basics/" rel="bookmark" title="青训营 |「WebGL基础」">青训营 |「WebGL基础」</a></li><li><a href="/note/front-end/bytedance-note/webpack-knowledge-system/" rel="bookmark" title="青训营 |「构建Webpack知识体系」">青训营 |「构建Webpack知识体系」</a></li><li><a href="/note/front-end/bytedance-note/typescript-introduction/" rel="bookmark" title="青训营 |「TypeScript入门」笔记">青训营 |「TypeScript入门」笔记</a></li><li><a href="/note/front-end/bytedance-note/mini-game-development/" rel="bookmark" title="青训营 |「小游戏开发」笔记">青训营 |「小游戏开发」笔记</a></li><li><a href="/note/front-end/bytedance-note/mini-program-develop/" rel="bookmark" title="青训营 |「小程序技术全解」笔记">青训营 |「小程序技术全解」笔记</a></li><li><a href="/note/front-end/bytedance-note/web-multimedia-introduction/" rel="bookmark" title="青训营 |「Web多媒体入门」笔记">青训营 |「Web多媒体入门」笔记</a></li><li><a href="/note/front-end/bytedance-note/design-pattern/" rel="bookmark" title="青训营 |「前端设计模式应用」笔记">青训营 |「前端设计模式应用」笔记</a></li><li><a href="/back-end/go_learning_1/" rel="bookmark" title="Go语言初上手(一) 环境配置与基础语法 | 青训营">Go语言初上手(一) 环境配置与基础语法 | 青训营</a></li><li><a href="/back-end/go_learning_2/" rel="bookmark" title="Go语言初上手（二） 工程实践 | 青训营">Go语言初上手（二） 工程实践 | 青训营</a></li><li><a href="/back-end/go_learning_3/" rel="bookmark" title="Go语言初上手（三）编码规范与性能优化 | 青训营">Go语言初上手（三）编码规范与性能优化 | 青训营</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="cos" data-src="/img/avatar.jpg"><p class="name" itemprop="name">cos</p><div class="description" itemprop="description">愿岁并谢，与友长兮</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">147</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">20</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">97</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3l1c2l4aWFu" title="https:&#x2F;&#x2F;github.com&#x2F;yusixian"><i class="ic i-github"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9xaS1qaXUtZW4=" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;qi-jiu-en"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTM2MTAyOTgwNA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;361029804"><i class="ic i-cloud-music"></i></span> <span class="exturl item email" data-url="bWFpbHRvOmNvc2luZV95dUBxcS5jb20=" title="mailto:cosine_yu@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/musics/" rel="section"><i class="ic i-music"></i>歌单</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/note/front-end/bytedance-note/responsive-system-and-react/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/note/front-end/bytedance-note/http-utilization-guide/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/tools/" title="分类于 工具">工具</a></div><span><a href="/hexo-shoka-config" title="Hexo博客Shoka主题配置记录">Hexo博客Shoka主题配置记录<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/coding-train/" title="分类于 题目记录">题目记录</a></div><span><a href="/PTA%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E9%A2%98%E7%9B%AE%E9%9B%86%20%E7%AC%AC%E4%BA%8C%E5%91%A8%E2%80%94%E2%80%94%E7%BA%BF%E6%80%A7%E7%BB%93%E6%9E%84" title="PTA数据结构题目集 第二周——线性结构">PTA数据结构题目集 第二周——线性结构<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/coding-train/" title="分类于 题目记录">题目记录</a></div><span><a href="/PTA%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E9%A2%98%E7%9B%AE%E9%9B%86%20%E7%AC%AC%E5%8D%81%E5%91%A8%E2%80%94%E2%80%94%E6%8E%92%E5%BA%8F%EF%BC%88%E4%B8%8B%EF%BC%89" title="PTA数据结构题目集 第十周——排序（下）">PTA数据结构题目集 第十周——排序（下）<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/life/" title="分类于 随笔">随笔</a></div><span><a href="/2022-life-review" title="2022，写给自己的一篇文章">2022，写给自己的一篇文章<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 笔记">笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/note/bytedance-note/" title="分类于 青训营笔记">青训营笔记</a></div><span><a href="/note/front-end/bytedance-note/design-pattern" title="青训营 |「前端设计模式应用」笔记">青训营 |「前端设计模式应用」笔记<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 笔记">笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/note/cs-basics/" title="分类于 CS 基础">CS 基础</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86%E5%A4%8D%E4%B9%A0%E6%80%BB%E7%BB%93%EF%BC%88%E4%B8%89%EF%BC%89%E5%A4%9A%E5%B1%82%E6%AC%A1%E7%9A%84%E5%AD%98%E5%82%A8%E5%99%A8" title="计算机组成原理复习总结（三）多层次的存储器">计算机组成原理复习总结（三）多层次的存储器<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/coding-train/" title="分类于 题目记录">题目记录</a> <i class="ic i-angle-right"></i> <a href="/categories/coding-train/bytedance/" title="分类于 字节校园">字节校园</a></div><span><a href="/coding-train/leetcode/bytedance/bytedance-day20" title="冲刺春招-精选笔面试66题大通关day20">冲刺春招-精选笔面试66题大通关day20<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/data-structure/" title="分类于 数据结构">数据结构</a></div><span><a href="/%E5%9B%BE%E8%AE%BA%E2%80%94%E2%80%94%E8%A7%A3%E5%86%B3%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91%E9%97%AE%E9%A2%98(Kruskal%E7%AE%97%E6%B3%95&Prim%E7%AE%97%E6%B3%95)" title="图论——解决最小生成树问题(Kruskal算法&amp;Prim算法)">图论——解决最小生成树问题(Kruskal算法&Prim算法)<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/note/" title="分类于 笔记">笔记</a> <i class="ic i-angle-right"></i> <a href="/categories/note/cs-basics/" title="分类于 CS 基础">CS 基础</a></div><span><a href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E9%AA%8C%E2%80%94%E2%80%94%E5%8A%A8%E6%80%81%E5%88%86%E5%8C%BA%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%E7%9A%84%E6%A8%A1%E6%8B%9F" title="操作系统实验——动态分区分配方式的模拟">操作系统实验——动态分区分配方式的模拟<i class="ic i-link-alt"></i></a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/coding-train/" title="分类于 题目记录">题目记录</a> <i class="ic i-angle-right"></i> <a href="/categories/coding-train/offer/" title="分类于 剑指 offer">剑指 offer</a></div><span><a href="/coding-train/leetcode/offer/day16" title="剑指offer day16 排序（简单）">剑指offer day16 排序（简单）<i class="ic i-link-alt"></i></a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">cos @ cosine</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">673k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">10:11</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"note/front-end/bytedance-note/animation-implement/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//fastly.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->